<?xml version="1.0" encoding="UTF-8"?>
<mast2:Mast_Model
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:mast2="http://mast.unican.es/ecoremast/Mast2"
    xsi:schemaLocation="http://mast.unican.es/ecoremast/Mast2 /mastresults/Mast2.ecore"
    name="scada_xmi"
    Date="2023-07-27T17:47:24">
  <Element_List
      xsi:type="mast2:Regular_Processor"
      name="cpu1"
      Scheduler="cpu1_sched"
      Worst_ISR_Switch="0.001"
      Min_Interrupt_Priority="256"
      Max_Interrupt_Priority="256"/>
  <Element_List
      xsi:type="mast2:Primary_Scheduler"
      name="cpu1_sched"
      Schedulable_Resource_List="read_th display_th check_th sensor_isr_th kbd_isr_th"
      Host="cpu1">
    <Policy
        xsi:type="mast2:Fixed_Priority_Policy"
        Max_Priority="256"
        Worst_Context_Switch="0.001"/>
  </Element_List>
  <Element_List
      xsi:type="mast2:Immediate_Ceiling_Mutex"
      name="screen"
      Ceiling="87"/>
  <Element_List
      xsi:type="mast2:Immediate_Ceiling_Mutex"
      name="measmnt_buffer"
      Ceiling="172"/>
  <Element_List
      xsi:type="mast2:Simple_Operation"
      name="wite_avg"
      Worst_Case_Execution_Time="0.7"
      Avg_Case_Execution_Time="0.0"
      Mutex_To_Lock_List="screen"
      Mutex_To_Unlock_List="screen"/>
  <Element_List
      xsi:type="mast2:Simple_Operation"
      name="write_record"
      Worst_Case_Execution_Time="4.9"
      Avg_Case_Execution_Time="0.0"
      Mutex_To_Lock_List="screen"
      Mutex_To_Unlock_List="screen"/>
  <Element_List
      xsi:type="mast2:Simple_Operation"
      name="put_temp"
      Worst_Case_Execution_Time="0.01"
      Avg_Case_Execution_Time="0.0"
      Mutex_To_Lock_List="measmnt_buffer"
      Mutex_To_Unlock_List="measmnt_buffer"/>
  <Element_List
      xsi:type="mast2:Simple_Operation"
      name="get_avg_temp"
      Worst_Case_Execution_Time="0.01"
      Avg_Case_Execution_Time="0.0"
      Mutex_To_Lock_List="measmnt_buffer"
      Mutex_To_Unlock_List="measmnt_buffer"/>
  <Element_List
      xsi:type="mast2:Simple_Operation"
      name="get_record"
      Worst_Case_Execution_Time="0.03"
      Avg_Case_Execution_Time="0.0"
      Mutex_To_Lock_List="measmnt_buffer"
      Mutex_To_Unlock_List="measmnt_buffer"/>
  <Element_List
      xsi:type="mast2:Enclosing_Operation"
      name="display"
      Operation_List="get_avg_temp wite_avg"
      Worst_Case_Execution_Time="1080.0"/>
  <Element_List
      xsi:type="mast2:Enclosing_Operation"
      name="read"
      Operation_List="put_temp"
      Worst_Case_Execution_Time="1080.0"/>
  <Element_List
      xsi:type="mast2:Enclosing_Operation"
      name="check"
      Operation_List="get_record write_record"
      Worst_Case_Execution_Time="1080.0"/>
  <Element_List
      xsi:type="mast2:Simple_Operation"
      name="sensor_isr"
      Worst_Case_Execution_Time="0.002"
      Avg_Case_Execution_Time="0.0"/>
  <Element_List
      xsi:type="mast2:Simple_Operation"
      name="kbd_isr"
      Worst_Case_Execution_Time="0.004"
      Avg_Case_Execution_Time="0.0"/>
  <Element_List
      xsi:type="mast2:Thread"
      name="read_th"
      Scheduler="cpu1_sched">
    <Scheduling_Parameters
        xsi:type="mast2:Fixed_Priority_Params"
        Priority="172"/>
  </Element_List>
  <Element_List
      xsi:type="mast2:Thread"
      name="display_th"
      Scheduler="cpu1_sched">
    <Scheduling_Parameters
        xsi:type="mast2:Fixed_Priority_Params"
        Priority="2"/>
  </Element_List>
  <Element_List
      xsi:type="mast2:Thread"
      name="check_th"
      Scheduler="cpu1_sched">
    <Scheduling_Parameters
        xsi:type="mast2:Sporadic_Server_Params"
        Priority="87"
        Replenishment_Period="50.0"
        Initial_Capacity="6.0"/>
  </Element_List>
  <Element_List
      xsi:type="mast2:Thread"
      name="sensor_isr_th"
      Scheduler="cpu1_sched">
    <Scheduling_Parameters
        xsi:type="mast2:Interrupt_FP_Params"
        Priority="256"/>
  </Element_List>
  <Element_List
      xsi:type="mast2:Thread"
      name="kbd_isr_th"
      Scheduler="cpu1_sched">
    <Scheduling_Parameters
        xsi:type="mast2:Interrupt_FP_Params"
        Priority="256"/>
  </Element_List>
  <Element_List
      xsi:type="mast2:Regular_End_To_End_Flow"
      name="tr_read_e2e">
    <Flow_Element_List
        xsi:type="mast2:Periodic_Event"
        name="sensor"
        Period="100.0"/>
    <Flow_Element_List
        xsi:type="mast2:Internal_Event"
        name="put">
      <Observer_List
          xsi:type="mast2:Hard_Global_Deadline"
          Deadline="1.0"
          Referenced_Event="//@Element_List.19/@Flow_Element_List.0"/>
    </Flow_Element_List>
    <Flow_Element_List
        xsi:type="mast2:Internal_Event"
        name="i1"/>
    <Flow_Element_List
        xsi:type="mast2:Step"
        Input_Event="//@Element_List.19/@Flow_Element_List.2"
        Output_Event="//@Element_List.19/@Flow_Element_List.1"
        Step_Operation="read"
        Step_Schedulable_Resource="read_th"/>
    <Flow_Element_List
        xsi:type="mast2:Step"
        Input_Event="//@Element_List.19/@Flow_Element_List.0"
        Output_Event="//@Element_List.19/@Flow_Element_List.2"
        Step_Operation="kbd_isr"
        Step_Schedulable_Resource="kbd_isr_th"/>
  </Element_List>
  <Element_List
      xsi:type="mast2:Regular_End_To_End_Flow"
      name="tr_display_e2e">
    <Flow_Element_List
        xsi:type="mast2:Periodic_Event"
        name="dis"
        Period="1000.0"/>
    <Flow_Element_List
        xsi:type="mast2:Internal_Event"
        name="disp_out">
      <Observer_List
          xsi:type="mast2:Hard_Global_Deadline"
          Deadline="100.0"
          Referenced_Event="//@Element_List.20/@Flow_Element_List.0"/>
    </Flow_Element_List>
    <Flow_Element_List
        xsi:type="mast2:Step"
        Input_Event="//@Element_List.20/@Flow_Element_List.0"
        Output_Event="//@Element_List.20/@Flow_Element_List.1"
        Step_Operation="display"
        Step_Schedulable_Resource="display_th"/>
  </Element_List>
  <Element_List
      xsi:type="mast2:Regular_End_To_End_Flow"
      name="tr_check_e2e">
    <Flow_Element_List
        xsi:type="mast2:Sporadic_Event"
        name="rec"
        Min_Interarrival="50.0"/>
    <Flow_Element_List
        xsi:type="mast2:Internal_Event"
        name="rec_out">
      <Observer_List
          xsi:type="mast2:Hard_Global_Deadline"
          Deadline="20.0"
          Referenced_Event="//@Element_List.21/@Flow_Element_List.0"/>
    </Flow_Element_List>
    <Flow_Element_List
        xsi:type="mast2:Internal_Event"
        name="i2"/>
    <Flow_Element_List
        xsi:type="mast2:Step"
        Input_Event="//@Element_List.21/@Flow_Element_List.2"
        Output_Event="//@Element_List.21/@Flow_Element_List.1"
        Step_Operation="check"
        Step_Schedulable_Resource="check_th"/>
    <Flow_Element_List
        xsi:type="mast2:Step"
        Input_Event="//@Element_List.21/@Flow_Element_List.0"
        Output_Event="//@Element_List.21/@Flow_Element_List.2"
        Step_Operation="kbd_isr"
        Step_Schedulable_Resource="kbd_isr_th"/>
  </Element_List>
</mast2:Mast_Model>
